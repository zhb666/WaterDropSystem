webpackJsonp([3],{CdUZ:function(e,t){},Yxd1:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Wn42"),r=a.n(s),i={name:"charge",data:function(){return{account:"",password:"",Setpassword:"",username:"",Newaccount:"",Newpassword:"",NewSetpassword:"",Newusername:"",tableData:[],userIdMask:"",name:"",NewdialogFormVisible:!1,dialogFormVisible:!1,limit:"",Toexamine:!1,totalRecords:0,page:1,logins:!1}},mounted:function(){this.sendCharge()},methods:{handleCurrentChange:function(e){var t=this;this.logins=!0;var a=this.ApiUrl+"/user/getuserlistbypage";this.$http({method:"post",url:a,data:r.a.stringify({name:this.name,pageNum:e,pageSize:10})}).then(function(e){0==e.data.code?(t.logins=!1,t.tableData=e.data.data.data,t.totalRecords=e.data.data.totalCount):("403"==e.data.error.code&&t.Signout(),t.$message.error(e.data.msg))}).catch(function(e){console.log(e)})},sendCharge:function(e){var t=this;e&&(this.page=1),this.logins=!0;var a=this.ApiUrl+"/user/getuserlistbypage";this.$http({method:"post",url:a,data:r.a.stringify({name:this.name,pageNum:this.page,pageSize:10})}).then(function(e){0==e.data.code?(t.logins=!1,t.tableData=e.data.data.data,t.totalRecords=e.data.data.totalCount):("403"==e.data.error.code&&t.Signout(),t.$message.error(e.data.msg))}).catch(function(e){console.log(e)})},getUserId:function(e,t){this.dialogFormVisible=!0,this.userIdMask=t.id,this.account=t.account,this.username=t.name},sendAgent:function(){var e=this;if(""==this.account)return this.$message.error("错了哦，请输入账号"),!1;if(""==this.username)return this.$message.error("错了哦，请输入名称"),!1;if(""==this.password)return this.$message.error("错了哦，请输入密码"),!1;if(""==this.Setpassword)return this.$message.error("错了哦，请输入验证密码"),!1;if(this.Setpassword!=this.password)return this.$message.error("错了哦，两次输入的密码不同"),!1;var t=this.ApiUrl+"/user/updateuser";this.$http({method:"post",url:t,data:r.a.stringify({id:this.userIdMask,name:this.username,password:this.password,account:this.account})}).then(function(t){0==t.data.code?(e.$notify({title:"修改成功",message:"这是一条成功的提示消息",type:"success"}),e.showmARKs(),e.sendCharge()):("403"==t.data.error.code&&e.Signout(),e.$message.error(t.data.msg))}).catch(function(e){console.log(e)})},showmARKs:function(){this.dialogFormVisible=!1,this.account="",this.username="",this.Setpassword="",this.password=""},NewshowmARKs:function(){this.NewdialogFormVisible=!1,this.Newaccount="",this.Newusername="",this.NewSetpassword="",this.Newpassword=""},newInfoFun:function(){this.NewdialogFormVisible=!0},newXinjian:function(){var e=this;if(""==this.Newaccount)return this.$message.error("错了哦，请输入账号"),!1;if(""==this.Newusername)return this.$message.error("错了哦，请输入名称"),!1;if(""==this.Newpassword)return this.$message.error("错了哦，请输入密码"),!1;if(""==this.NewSetpassword)return this.$message.error("错了哦，请输入验证密码"),!1;if(this.NewSetpassword!=this.Newpassword)return this.$message.error("错了哦，两次输入的密码不同"),!1;var t=this.ApiUrl+"/user/adduser";this.$http({method:"post",url:t,data:r.a.stringify({name:this.Newusername,password:this.Newpassword,account:this.Newaccount})}).then(function(t){0==t.data.code?(e.$notify({title:"新建成功",message:"这是一条成功的提示消息",type:"success"}),e.NewshowmARKs(),e.sendCharge()):("403"==t.data.error.code&&e.Signout(),e.$message.error(t.data.msg))}).catch(function(e){console.log(e)})},deleteFun:function(e,t){var a=this;this.$confirm("确定删除？","提示",{confirmButtonText:"确认通过",cancelButtonText:"取消",type:"warning"}).then(function(){var e=a.ApiUrl+"/user/deluser";a.$http({method:"post",url:e,data:r.a.stringify({id:t.id})}).then(function(e){0==e.data.code?(a.$notify({title:"删除成功",message:"这是一条成功的提示消息",type:"success"}),a.sendCharge()):a.$message.error(e.data.msg)}).catch(function(e){console.log(e)})}).catch(function(){a.$message({type:"info",message:"已取消"})})}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user"},[a("el-dialog",{staticStyle:{width:"1200px",margin:"0 auto"},attrs:{"show-close":!1,title:"修改信息",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("div",{staticStyle:{margin:"20px auto"}}),e._v(" "),a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"账户 : "}},[a("el-input",{attrs:{placeholder:"账户"},model:{value:e.account,callback:function(t){e.account=t},expression:"account"}})],1)],1),e._v(" "),a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"密码 : "}},[a("el-input",{attrs:{placeholder:"密码"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),e._v(" "),a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"验证密码 : "}},[a("el-input",{attrs:{placeholder:"验证密码"},model:{value:e.Setpassword,callback:function(t){e.Setpassword=t},expression:"Setpassword"}})],1)],1),e._v(" "),a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"管理员名字 : "}},[a("el-input",{attrs:{placeholder:"管理员名字"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"margin-top":"20px","text-align":"right"},attrs:{slot:""},slot:"default"},[a("el-button",{on:{click:e.showmARKs}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.sendAgent()}}},[e._v("确定")])],1)],1),e._v(" "),a("el-dialog",{staticStyle:{width:"1200px",margin:"0 auto"},attrs:{"show-close":!1,title:"新建科目",visible:e.NewdialogFormVisible},on:{"update:visible":function(t){e.NewdialogFormVisible=t}}},[a("div",{staticStyle:{margin:"20px auto"}}),e._v(" "),a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"账户 : "}},[a("el-input",{attrs:{placeholder:"账户"},model:{value:e.Newaccount,callback:function(t){e.Newaccount=t},expression:"Newaccount"}})],1)],1),e._v(" "),a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"密码 : "}},[a("el-input",{attrs:{placeholder:"密码"},model:{value:e.Newpassword,callback:function(t){e.Newpassword=t},expression:"Newpassword"}})],1)],1),e._v(" "),a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"验证密码 : "}},[a("el-input",{attrs:{placeholder:"验证密码"},model:{value:e.NewSetpassword,callback:function(t){e.NewSetpassword=t},expression:"NewSetpassword"}})],1)],1),e._v(" "),a("el-form",{attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"管理员名字 : "}},[a("el-input",{attrs:{placeholder:"管理员名字"},model:{value:e.Newusername,callback:function(t){e.Newusername=t},expression:"Newusername"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"margin-top":"20px","text-align":"right"},attrs:{slot:""},slot:"default"},[a("el-button",{on:{click:function(t){e.NewdialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.newXinjian()}}},[e._v("确定")])],1)],1),e._v(" "),a("div",{staticClass:"animated fadeInDown"},[a("el-row",{staticClass:"breadcrumb"},[a("el-col",{attrs:{span:4}},[a("h3",[e._v("管理员管理")])]),e._v(" "),a("el-col",{attrs:{span:20}},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[e._v("系统管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("管理员管理")])],1)],1)],1),e._v(" "),a("div",{staticClass:"addPadding"},[a("div",{staticClass:"user_header"},[a("el-input",{attrs:{placeholder:"管理名称"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),a("el-button",{staticStyle:{float:"right","margin-right":"2%"},attrs:{type:"primary"},on:{click:e.newInfoFun}},[e._v("新建")]),e._v(" "),a("el-button",{attrs:{type:"primary",title:"搜索",icon:"el-icon-search",loading:e.logins},on:{click:function(t){return e.sendCharge(1)}}})],1),e._v(" "),a("div",{staticClass:"user_main"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.logins,expression:"logins"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(33, 33, 33, 0.8)"}},[a("el-table-column",{attrs:{prop:"id",label:"ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"account",label:"管理员账户"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"管理姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"end_login_time",label:"上次登录时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{attrs:{content:"修改",placement:"right",effect:"light"}},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.getUserId(t.$index,t.row)}}},[e._v("修改\n                ")])],1),e._v(" "),a("el-tooltip",{attrs:{content:"删除",placement:"right",effect:"light"}},[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.deleteFun(t.$index,t.row)}}},[e._v("删除\n                ")])],1)]}}])})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.totalRecords>10,expression:"totalRecords>10"}],staticClass:"pageBox"},[a("el-pagination",{attrs:{"current-page":e.page,"page-size":10,layout:"prev, pager, next, jumper",total:e.totalRecords},on:{"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.page=t},"update:current-page":function(t){e.page=t}}})],1)])],1)],1)},staticRenderFns:[]};var n=a("C7Lr")(i,o,!1,function(e){a("CdUZ")},"data-v-68ed785a",null);t.default=n.exports}});